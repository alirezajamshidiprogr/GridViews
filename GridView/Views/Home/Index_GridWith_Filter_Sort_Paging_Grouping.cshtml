@using GridView.ViewModel;
@using GridView.TagHelpers
@using static GridView.TagHelpers.DynamicGridExtensions

<link href="~/css/gridview.css" rel="stylesheet" />
@model List<ProductSaleModel>

@{
    var gridUrl = Url.Action("GetGridDataIndex_GridWith_Filter_Sort_Paging_Grouping", "Home");
}

@*<link rel="stylesheet"   href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">*@


<link href="~/font-awsome/font-awesome.min.css" rel="stylesheet" />

@(
         Jamshidi_Grid("grdProduct")
        .Url(gridUrl)
        .Items(Model.Cast<object>().ToList())
        .EnablePaging(true)
        .EnableFiltering(true)
        .EnableSorting(true)
        .EnableFooter(true)
        .EnableGrouping(true)
        .EnableExcelExport(true)
        .EnablePrint(true)
        .EnableEditButton(true)
        @*.EnableCheckBoxColumn(false)*@
        .EnableDeleteButton(false)
        .EnableInlineEdit(false)
        .EnableShowHiddenColumns(true)
        .Build()
)
<script src="~/js/jquery-3.7.1.js"></script>
<script src="~/js/xlsx.full.min.js"></script>
@*<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>*@
@*<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>*@
<script src="~/js/gridview.js"></script>

<script>
    enableRowDetailsPopup();
    //document.addEventListener('DOMContentLoaded', () => {
    //    currentPage = 1;
    //    pageSize = 10; // یا هر مقدار دلخواه
    //    fetchGridData(currentPage, pageSize); // ← لود اولیه
    //});

// نمونه فراخوانی تابع با پارامتر استایل:
window.onload = () => {
    setTimeout(() => {
        applyStylesToGridRows(
            { color: 'red', 'font-size': '14px' },
            {
                    iD: ['1', '3'] ,
                    Category: ['کامپیوتر', 'الکترونیک'] 
            }
        );
    }, 100);
};
</script>

